<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>
<meta name="GENERATOR" content="PasDoc 0.12.1">
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
<title>Asphyre Sphinx: NetComs: Class TNetCom</title>
<link rel="StyleSheet" type="text/css" href="pasdoc.css">
</head>
<body bgcolor="#ffffff" text="#000000" link="#0000ff" vlink="#800080" alink="#FF0000">
<a name="TNetCom"></a><h1 class="cio">Class TNetCom</h1>
<table class="sections wide_list">
<tr>
<td><a class="section"  href="#%40Description">Description</a></td><td><a class="section"  href="#%40Hierarchy">Hierarchy</a></td><td>Fields</td><td><a class="section"  href="#%40Methods">Methods</a></td><td><a class="section"  href="#%40Properties">Properties</a></td></tr></table>
<a name="%40Description"></a><h2 class="unit">Unit</h2>
<p class="unitlink">
<a   href="NetComs.html">NetComs</a></p>
<h2 class="declaration">Declaration</h2>
<p class="declaration">
<code>type TNetCom = class(TObject)</code></p>
<h2 class="description">Description</h2>
<p>
UDP wrapper class that provides a simple way of UDP communication between different applications over network and Internet. The messages sent by this component are compressed using ZLib to save bandwidth when sending large packets. MD5 checksum verification is used internally for integrity checks.</p>
<a name="%40Hierarchy"></a><h2 class="hierarchy">Hierarchy</h2>
<ul class="hierarchy"><li class="ancestor">TObject</li>
<li class="thisitem">TNetCom</li></ul><h2 class="overview">Overview</h2>
<a name="%40Methods"></a><h3 class="summary">Methods</h3>
<table class="summary wide_list">
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>function <b><a   href="NetComs.TNetCom.html#Initialize">Initialize</a></b>(): Boolean;</code></td>
</tr>
<tr class="list2">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>function <b><a   href="NetComs.TNetCom.html#Send">Send</a></b>(const Host: <a   href="AsphyreDef.html#StdString">StdString</a>; Port: Integer; Data: Pointer; Size: Integer): Boolean;</code></td>
</tr>
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>procedure <b><a   href="NetComs.TNetCom.html#Finalize">Finalize</a></b>();</code></td>
</tr>
<tr class="list2">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>procedure <b><a   href="NetComs.TNetCom.html#ResetStatistics">ResetStatistics</a></b>();</code></td>
</tr>
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>procedure <b><a   href="NetComs.TNetCom.html#Update">Update</a></b>();</code></td>
</tr>
</table>
<a name="%40Properties"></a><h3 class="summary">Properties</h3>
<table class="summary wide_list">
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>property <b><a   href="NetComs.TNetCom.html#BodyBytesReceived">BodyBytesReceived</a></b>: Integer read FBodyBytesReceived;</code></td>
</tr>
<tr class="list2">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>property <b><a   href="NetComs.TNetCom.html#BodyBytesSent">BodyBytesSent</a></b>: Integer read FBodyBytesSent;</code></td>
</tr>
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>property <b><a   href="NetComs.TNetCom.html#BytesPerSec">BytesPerSec</a></b>: Integer read FBytesPerSec;</code></td>
</tr>
<tr class="list2">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>property <b><a   href="NetComs.TNetCom.html#BytesReceived">BytesReceived</a></b>: Integer read FBytesReceived;</code></td>
</tr>
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>property <b><a   href="NetComs.TNetCom.html#BytesSent">BytesSent</a></b>: Integer read FBytesSent;</code></td>
</tr>
<tr class="list2">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>property <b><a   href="NetComs.TNetCom.html#DiscardedPackets">DiscardedPackets</a></b>: Integer read FDiscardedPackets;</code></td>
</tr>
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>property <b><a   href="NetComs.TNetCom.html#Initialized">Initialized</a></b>: Boolean read FInitialized;</code></td>
</tr>
<tr class="list2">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>property <b><a   href="NetComs.TNetCom.html#LocalPort">LocalPort</a></b>: Integer read FLocalPort write SetLocalPort;</code></td>
</tr>
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>property <b><a   href="NetComs.TNetCom.html#OnReceive">OnReceive</a></b>: <a   href="NetComs.html#TReceiveEvent">TReceiveEvent</a> read FOnReceive write FOnReceive;</code></td>
</tr>
<tr class="list2">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>property <b><a   href="NetComs.TNetCom.html#ReceivedPackets">ReceivedPackets</a></b>: Integer read FReceivedPackets;</code></td>
</tr>
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>property <b><a   href="NetComs.TNetCom.html#SentPackets">SentPackets</a></b>: Integer read FSentPackets;</code></td>
</tr>
</table>
<h2 class="description">Description</h2>
<h3 class="detail">Methods</h3>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="Initialize"></a><code>function <b>Initialize</b>(): Boolean;</code></td>
</tr>
<tr><td colspan="2">
<p>
Initializes the component and begins listening to the given port for incoming messages. <a class="normal"  href="NetComs.TNetCom.html#LocalPort">LocalPort</a> should be set prior calling this method. If the method succeeds, <a class="normal"  href="NetComs.TNetCom.html#LocalPort">LocalPort</a> will be updated with a new port that is being used (if the suggested one could not be used).</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="Send"></a><code>function <b>Send</b>(const Host: <a   href="AsphyreDef.html#StdString">StdString</a>; Port: Integer; Data: Pointer; Size: Integer): Boolean;</code></td>
</tr>
<tr><td colspan="2">
<p>
Sends the specified message data block to the destination. This method returns <code>True</code> if the message could be sent and <code>False</code> if there were any errors. Please note that since messages are sent through UDP protocol, so a resulting <code>True</code> value does not necessarily mean that the message was actually received.    </p>
<h6 class="description_section">Parameters</h6>
<dl class="parameters">
<dt>Host</dt>
<dd>Destination host or address where the message should be sent. Multicast and broadcast addresses are accepted, although should be used with care to not saturate the local network.</dd>
<dt>Port</dt>
<dd>Destination port where the receiver is currently listening at.</dd>
<dt>Data</dt>
<dd>Pointer to the message data block. The method copies the data to its internal structures, so it's not necessary to maintain the data after this call exits.</dd>
<dt>Size</dt>
<dd>Size of the message data block.</dd>
</dl>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="Finalize"></a><code>procedure <b>Finalize</b>();</code></td>
</tr>
<tr><td colspan="2">
<p>
Finalizes the component and closes the communication link.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="ResetStatistics"></a><code>procedure <b>ResetStatistics</b>();</code></td>
</tr>
<tr><td colspan="2">
<p>
Resets all statistic parameters related to the current session such as number of packets transmitted, bytes per second among others.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="Update"></a><code>procedure <b>Update</b>();</code></td>
</tr>
<tr><td colspan="2">
<p>
Handles internal communication and receives incoming messages; in addition, internal structures and bandwidth usage are also updated. This method should be called as fast as possible and no less than once per second. During the call to this method, <a class="normal"  href="NetComs.TNetCom.html#OnReceive">OnReceive</a> event may occur to notify the reception of messages.</p>
</td></tr>
</table>
<h3 class="detail">Properties</h3>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="BodyBytesReceived"></a><code>property <b>BodyBytesReceived</b>: Integer read FBodyBytesReceived;</code></td>
</tr>
<tr><td colspan="2">
<p>
Indicates how many bytes of message body have been received (uncompressed, without counting the header size). Can be used to determine the compression ratio of the incoming data.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="BodyBytesSent"></a><code>property <b>BodyBytesSent</b>: Integer read FBodyBytesSent;</code></td>
</tr>
<tr><td colspan="2">
<p>
Indicates how many bytes of message body have been sent (uncompressed, without counting the header size). Can be used to determine the compression ratio of the outcoming data.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="BytesPerSec"></a><code>property <b>BytesPerSec</b>: Integer read FBytesPerSec;</code></td>
</tr>
<tr><td colspan="2">
<p>
Indicates the current bandwidth usage in bytes per second. In order for this variable to have meaningful values, it is necessary to call <a class="normal"  href="NetComs.TNetCom.html#Update">Update</a> method at least once per second.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="BytesReceived"></a><code>property <b>BytesReceived</b>: Integer read FBytesReceived;</code></td>
</tr>
<tr><td colspan="2">
<p>
Indicates how many bytes were received during the entire session.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="BytesSent"></a><code>property <b>BytesSent</b>: Integer read FBytesSent;</code></td>
</tr>
<tr><td colspan="2">
<p>
Indicates how many bytes were sent during the entire session.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="DiscardedPackets"></a><code>property <b>DiscardedPackets</b>: Integer read FDiscardedPackets;</code></td>
</tr>
<tr><td colspan="2">
<p>
Indicates how many packets were discarded during the entire session. This can be a direct indication of errors during the session where packets were badly received.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="Initialized"></a><code>property <b>Initialized</b>: Boolean read FInitialized;</code></td>
</tr>
<tr><td colspan="2">
<p>
Determines whether the component has been property initialized.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="LocalPort"></a><code>property <b>LocalPort</b>: Integer read FLocalPort write SetLocalPort;</code></td>
</tr>
<tr><td colspan="2">
<p>
The local port that will be used for UDP communication both for sending and receiving packets. If the specified port is unavailable during initialization, a different (and possibly random) value will be used. In this case, this parameter will be updated accordingly.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="OnReceive"></a><code>property <b>OnReceive</b>: <a   href="NetComs.html#TReceiveEvent">TReceiveEvent</a> read FOnReceive write FOnReceive;</code></td>
</tr>
<tr><td colspan="2">
<p>
This event occurs when the data has been received. It should always be assigned to interpret any incoming messages.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="ReceivedPackets"></a><code>property <b>ReceivedPackets</b>: Integer read FReceivedPackets;</code></td>
</tr>
<tr><td colspan="2">
<p>
Indicates how many packets in total were received during the entire session.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a   href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="SentPackets"></a><code>property <b>SentPackets</b>: Integer read FSentPackets;</code></td>
</tr>
<tr><td colspan="2">
<p>
Indicates how many packets were sent during the entire session.</p>
</td></tr>
</table>
<hr noshade size="1"><span class="appinfo"><em>Generated by <a  target="_parent" href="http://pasdoc.sourceforge.net/">PasDoc 0.12.1</a> on 2012-09-14 11:55:49</em>
</span>
</body></html>
